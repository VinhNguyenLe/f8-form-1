function Validator(e){function r(e,r){for(;e.parentElement;){if(e.parentElement.matches(r))return e.parentElement;e=e.parentElement}}var t={};function n(n,c){for(var i,a=r(n,e.formGroupSelector).querySelector(e.errorSelector),u=t[c.selector],l=0;l<u.length;++l){switch(n.type){case"radio":case"checkbox":i=u[l](o.querySelector(c.selector+":checked"));break;default:i=u[l](n.value)}if(i)break}return i?(a.innerText=i,r(n,e.formGroupSelector).classList.add("invalid")):(a.innerText="",r(n,e.formGroupSelector).classList.remove("invalid")),!i}var o=document.querySelector(e.form);o&&(o.onsubmit=function(r){r.preventDefault();var t=!0;if(e.rules.forEach((function(e){n(o.querySelector(e.selector),e)||(t=!1)})),t)if("function"==typeof e.onSubmit){var c=o.querySelectorAll("[name]"),i=Array.from(c).reduce((function(e,r){switch(r.type){case"radio":e[r.name]=o.querySelector('input[name="'+r.name+'"]:checked').value;break;case"checkbox":if(!r.matches(":checked"))return e[r.name]="",e;Array.isArray(e[r.name])||(e[r.name]=[]),e[r.name].push();break;case"file":e[r.name]=r.files;break;default:e[r.name]=r.value}return e}),{});e.onSubmit(i)}else o.submit()},e.rules.forEach((function(c){Array.isArray(t[c.selector])?t[c.selector].push(c.test):t[c.selector]=[c.test];var i=o.querySelectorAll(c.selector);Array.from(i).forEach((function(t){t.onblur=function(){n(t,c)},t.oninput=function(){r(t,e.formGroupSelector).querySelector(e.errorSelector).innerText="",r(t,e.formGroupSelector).classList.remove("invalid")}}))})))}Validator.isRequired=function(e,r){return{selector:e,test:function(e){return e?void 0:r||"Vui lòng nhập trường này"}}},Validator.isEmail=function(e,r){return{selector:e,test:function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)?void 0:r||"Vui lòng nhập đúng email"}}},Validator.minLength=function(e,r,t){return{selector:e,test:function(e){return e.length>=r?void 0:t||`Vui lòng nhập tối thiểu ${r} kí tự`}}},Validator.isConfirmed=function(e,r,t){return{selector:e,test:function(e){return e===r()?void 0:t||"Giá trị nhập vào không chính xác"}}};